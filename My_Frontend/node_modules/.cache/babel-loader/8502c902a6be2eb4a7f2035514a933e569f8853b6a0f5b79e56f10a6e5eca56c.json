{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nexport default {\n  data() {\n    return {\n      cart: []\n    };\n  },\n  computed: {\n    totalPrice() {\n      return this.cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    }\n  },\n  mounted() {\n    this.cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n  },\n  methods: {\n    getImage(imageName) {\n      return require(`../assets/images/${imageName}`);\n    },\n    removeFromCart(productId) {\n      this.cart = this.cart.filter(item => item.id !== productId);\n      localStorage.setItem(\"cart\", JSON.stringify(this.cart));\n    },\n    checkout() {\n      alert(\"Passage à la caisse...\");\n    },\n    // Fonction pour mettre à jour la quantité\n    updateQuantity(itemId, action) {\n      const item = this.cart.find(i => i.id === itemId);\n      if (!item) return;\n      if (action === \"increase\") {\n        item.quantity++;\n      } else if (action === \"decrease\" && item.quantity > 1) {\n        item.quantity--;\n      }\n\n      // Recalculer le prix total après modification de la quantité\n      this.updateTotalPrice();\n    },\n    // Fonction pour recalculer le prix total\n    updateTotalPrice() {\n      // totalPrice est déjà un computed property, donc inutile de la réassigner ici\n      this.cart = [...this.cart]; // Force Vue.js à détecter un changement\n    }\n  }\n};","map":{"version":3,"names":["data","cart","computed","totalPrice","reduce","acc","item","price","quantity","mounted","JSON","parse","localStorage","getItem","methods","getImage","imageName","require","removeFromCart","productId","filter","id","setItem","stringify","checkout","alert","updateQuantity","itemId","action","find","i","updateTotalPrice"],"sources":["/home/kapopay/Copy_Shop/src/components/panier_shop.vue"],"sourcesContent":["<template>\n  <div id=\"cart-page\">\n    <header>\n      <div class=\"header_container\">\n        <div id=\"logo\">\n          <a href=\"#\" id=\"logo_link\">\n            <img src=\"../assets/images/icon.png\" alt=\"Logo\" />\n          </a>\n        </div>\n        <nav id=\"menus\">\n          <a href=\"/\">Home</a>\n          <a href=\"/shop\">Shop</a>\n          <a href=\"/magazine\">Magazine</a>\n        </nav>\n        <div id=\"cart_login\">\n          <div id=\"cart_summary\" @click=\"toggleCart\">\n            <a href=\"/cart\"\n              ><img id=\"cart_icon\" src=\"../assets/images/panier.png\" alt=\"Cart\"\n            /></a>\n            <span v-if=\"cart.length > 0\">{{ cart.length }} item(s)</span>\n          </div>\n          <a href=\"/login\">LOGIN</a>\n        </div>\n      </div>\n    </header>\n\n    <div class=\"cart-container\">\n      <h2>Votre Panier</h2>\n      <div v-if=\"cart.length === 0\">\n        <p>Votre panier est vide.</p>\n      </div>\n      <div v-for=\"item in cart\" :key=\"item.id\" class=\"cart-item\">\n        <img :src=\"getImage(item.image)\" :alt=\"item.name\" />\n        <div class=\"cart-item-details\">\n          <h4>{{ item.name }}</h4>\n          <p>Prix: ${{ item.price }}</p>\n          <div class=\"quantity-controls\">\n            <button @click=\"updateQuantity(item.id, 'decrease')\">-</button>\n            <span>Quantité: {{ item.quantity }}</span>\n            <button @click=\"updateQuantity(item.id, 'increase')\">+</button>\n          </div>\n          <p>Total: ${{ item.price * item.quantity }}</p>\n          <button @click=\"removeFromCart(item.id)\">Supprimer</button>\n        </div>\n      </div>\n      <div v-if=\"cart.length > 0\" class=\"cart-total\">\n        <h3>Total: ${{ totalPrice }}</h3>\n        <button @click=\"checkout\">Passer à la caisse</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cart: [],\n    };\n  },\n  computed: {\n    totalPrice() {\n      return this.cart.reduce(\n        (acc, item) => acc + item.price * item.quantity,\n        0\n      );\n    },\n  },\n  mounted() {\n    this.cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n  },\n  methods: {\n    getImage(imageName) {\n      return require(`../assets/images/${imageName}`);\n    },\n    removeFromCart(productId) {\n      this.cart = this.cart.filter((item) => item.id !== productId);\n      localStorage.setItem(\"cart\", JSON.stringify(this.cart));\n    },\n    checkout() {\n      alert(\"Passage à la caisse...\");\n    },\n    // Fonction pour mettre à jour la quantité\n    updateQuantity(itemId, action) {\n      const item = this.cart.find((i) => i.id === itemId);\n      if (!item) return;\n\n      if (action === \"increase\") {\n        item.quantity++;\n      } else if (action === \"decrease\" && item.quantity > 1) {\n        item.quantity--;\n      }\n\n      // Recalculer le prix total après modification de la quantité\n      this.updateTotalPrice();\n    },\n\n    // Fonction pour recalculer le prix total\n    updateTotalPrice() {\n      // totalPrice est déjà un computed property, donc inutile de la réassigner ici\n      this.cart = [...this.cart]; // Force Vue.js à détecter un changement\n    },\n  },\n};\n</script>\n\n<style>\n.cart-container {\n  width: 80%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.cart-container h2 {\n  font-size: 2em;\n  color: #333;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.cart-item {\n  display: flex;\n  margin-bottom: 20px;\n  background-color: #fff;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.cart-item img {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n  border-radius: 8px;\n  margin-right: 20px;\n}\n\n.cart-item-details {\n  flex-grow: 1;\n}\n\n.cart-item-details h4 {\n  font-size: 1.2em;\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.cart-item-details p {\n  font-size: 1em;\n  color: #666;\n  margin: 5px 0;\n}\n\n.cart-item button {\n  background-color: #ff4d4d;\n  color: white;\n  padding: 8px 15px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.cart-item button:hover {\n  background-color: #e60000;\n}\n\n.cart-total {\n  text-align: right;\n  margin-top: 20px;\n  padding-top: 10px;\n  border-top: 2px solid #ccc;\n}\n\n.cart-total h3 {\n  font-size: 1.5em;\n  color: #333;\n}\n\n.cart-total button {\n  background-color: #28a745;\n  color: white;\n  padding: 12px 25px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  font-size: 1.1em;\n}\n\n.cart-total button:hover {\n  background-color: #218838;\n}\n\n.cart-container p {\n  font-size: 1.1em;\n  color: #999;\n  text-align: center;\n}\n</style>\n"],"mappings":";;;;AAsDA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAO,IAAI,CAACF,IAAI,CAACG,MAAM,CACrB,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,GAAIC,IAAI,CAACC,KAAI,GAAID,IAAI,CAACE,QAAQ,EAC/C,CACF,CAAC;IACH;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACR,IAAG,GAAIS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE;EAC5D,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAACC,SAAS,EAAE;MAClB,OAAOC,OAAO,CAAC,oBAAoBD,SAAS,EAAE,CAAC;IACjD,CAAC;IACDE,cAAcA,CAACC,SAAS,EAAE;MACxB,IAAI,CAAClB,IAAG,GAAI,IAAI,CAACA,IAAI,CAACmB,MAAM,CAAEd,IAAI,IAAKA,IAAI,CAACe,EAAC,KAAMF,SAAS,CAAC;MAC7DP,YAAY,CAACU,OAAO,CAAC,MAAM,EAAEZ,IAAI,CAACa,SAAS,CAAC,IAAI,CAACtB,IAAI,CAAC,CAAC;IACzD,CAAC;IACDuB,QAAQA,CAAA,EAAG;MACTC,KAAK,CAAC,wBAAwB,CAAC;IACjC,CAAC;IACD;IACAC,cAAcA,CAACC,MAAM,EAAEC,MAAM,EAAE;MAC7B,MAAMtB,IAAG,GAAI,IAAI,CAACL,IAAI,CAAC4B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACT,EAAC,KAAMM,MAAM,CAAC;MACnD,IAAI,CAACrB,IAAI,EAAE;MAEX,IAAIsB,MAAK,KAAM,UAAU,EAAE;QACzBtB,IAAI,CAACE,QAAQ,EAAE;MACjB,OAAO,IAAIoB,MAAK,KAAM,UAAS,IAAKtB,IAAI,CAACE,QAAO,GAAI,CAAC,EAAE;QACrDF,IAAI,CAACE,QAAQ,EAAE;MACjB;;MAEA;MACA,IAAI,CAACuB,gBAAgB,CAAC,CAAC;IACzB,CAAC;IAED;IACAA,gBAAgBA,CAAA,EAAG;MACjB;MACA,IAAI,CAAC9B,IAAG,GAAI,CAAC,GAAG,IAAI,CAACA,IAAI,CAAC,EAAE;IAC9B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}